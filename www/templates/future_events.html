<ion-view>
  <ion-content class="padt-55">
    <!--<div id="search">-->
            
            <div ng-controller="autoCompleteController as ctrl" layout="column" ng-cloak>

                <div id="search">
                    <p class="subtitle white">
                        <i class="ion-search"> </i>
                        <span>Find your best events</span>
                    </p>

                    <md-content class="md-padding">
                        <md-autocomplete ng-disabled="ctrl.isDisabled" md-no-cache="ctrl.noCache" md-selected-item="ctrl.selectedCountryValue" md-search-text="ctrl.searchCountryText"
                            md-search-text-change="ctrl.searchTextChangeCountry(ctrl.searchText)" md-selected-item-change="ctrl.countryChange(item)"
                            md-items="item in ctrl.queryCountrySearch(ctrl.searchCountryText)" md-item-text="item.display" md-min-length="0"
                            placeholder="Country?">
                            <md-item-template>
                                <span md-highlight-text="ctrl.searchCountryText" md-highlight-flags="^i">{{item.display}}</span>
                            </md-item-template>
                            <md-not-found>
                                No countries matching "{{ctrl.searchCountryText}}" were found.
                            </md-not-found>
                        </md-autocomplete>
                    </md-content>
                    <md-content class="md-padding" ng-show="ctrl.showCity">
                        <md-autocomplete ng-disabled="ctrl.isDisabled" md-no-cache="ctrl.noCache" md-selected-item="ctrl.selectedCityValue" md-search-text="ctrl.searchCityText"
                            md-search-text-change="ctrl.searchTextChangeCity(ctrl.searchText)" md-selected-item-change="ctrl.cityChange(item)"
                            md-items="item in ctrl.queryCitySearch(ctrl.searchCityText)" md-item-text="item.display" md-min-length="0"
                            placeholder="Location?">
                            <md-item-template>
                                <span md-highlight-text="ctrl.searchCityText" md-highlight-flags="^i">{{item.display}}</span>
                            </md-item-template>
                            <md-not-found>
                                No countries matching "{{ctrl.searchCityText}}" were found.
                            </md-not-found>
                        </md-autocomplete>
                    </md-content>
                    <md-content class="md-padding" ng-show="ctrl.showEvent">
                        <md-autocomplete ng-disabled="ctrl.isDisabled" md-no-cache="ctrl.noCache" md-selected-item="ctrl.selectedEventValue" md-search-text="ctrl.searchEventText"
                            md-selected-item-change="ctrl.eventChange(item)" md-items="item in ctrl.queryEventSearch(ctrl.searchEventText)"
                            md-item-text="item.display" md-min-length="0" placeholder="Event / Event place?">
                            <md-item-template>
                                <span md-highlight-text="ctrl.searchEventText" md-highlight-flags="^i" class="{{item.class}}">{{item.display}}</span>
                            </md-item-template>
                            <md-not-found>
                                No countries matching "{{ctrl.searchEventText}}" were found.
                            </md-not-found>
                        </md-autocomplete>
                    </md-content>
                    <button ng-click="searchFuture()" class="button searchButton" >
                        <span id="searchButton" >Wheee! SEARCH!</span>
                    </button>
                </div>
      
    <!--</div>-->

            <p class="subtitle white mt-25">
                <i class="ion-android-done-all"> </i>
                <span>Events found</span>
            </p>
            <div class="newEvents body event-list-cont" ng-controller="Events">

                <div ng-if="ctrl.thereAreResults == 0">
                    <p>Please make a search!</p>
                </div>
                
                <div class="list-item" ng-repeat="event in ctrl.newEvents" data-ng-init="eventId=event.id;" data-ng-attr-id="eventId" data-ng-click="GoToDetails(eventId)">
                    <div style="width: auto; height: auto; background: #0AC7B4; color: #fff; position: absolute; z-index: 100;padding: 10px 10px 0 10px;border-top-left-radius: 5px;border-bottom-right-radius: 5px;"><p>{{event.event_start_list_presc}}</p></div>
                    <div class="hslide-imgbg" style="background-image: url(http://www.wheee.eu/upload/headers/{{event.header_image}});">
                    </div>
                    <div class="clearer"></div>
                    <div class="hscroll-content">
                        <h3 class="list-title">{{event.event_title}}</h3>
                        <p>
                            <i class="ion-ios-location-outline"> </i>
                            <span><b>{{event.local_name}}</b> - <i>{{event.location}}, {{event.county}}</i></span>
                        </p>
                        <p>
                            <i class="ion-ios-calendar-outline"> </i>
                            <span>{{event.event_start_date}}</span>

                            <i class="ion-android-time ml-10"> </i>
                            <span>{{event.event_start_hour}}</span>
                        </p>

                        <div style="width:100%; height: 1px; background: #ccc; margin-bottom: 9px;"></div>

                        <p>
                            <i class="ion-android-done-all green" ng-if="event.joined_count > 0"> </i>
                            <span class="mr-10" ng-if="event.joined_count > 0">{{event.joined_count}}</span>

                            <i class="ion-bookmark green" ng-if="event.bookmark_count > 0"> </i>
                            <span class="mr-10" ng-if="event.bookmark_count > 0">{{event.bookmark_count}}</span>

                            <i class="ion-chatbox-working green" ng-if="event.comment_count > 0"> </i>
                            <span class="mr-10" ng-if="event.comment_count > 0">{{event.comment_count}}</span>

                            <i class="ion-image green" ng-if="event.image_count > 0"> </i>
                            <span class="mr-10" ng-if="event.image_count > 0">{{event.image_count}}</span>

                            <i class="ion-eye green" ng-if="event.visualization_count > 0"> </i>
                            <span class="mr-10" ng-if="event.visualization_count > 0">{{event.visualization_count}}</span>
                        </p>
                    </div>
                </div>

                <div class="list-item" ng-show="ctrl.showEvents == 0" ng-repeat="event in newEvents" data-ng-init="eventId=event.id;" data-ng-attr-id="eventId" data-ng-click="GoToDetails(eventId)">
                    <div class="hslide-imgbg" style="background-image: url(http://www.wheee.eu/upload/headers/{{event.header_image}});">
                    </div>
                    <div class="clearer"></div>
                    <div class="hscroll-content">
                        <h3 class="list-title">{{event.event_title}}</h3>
                        <p>
                            <i class="ion-ios-location-outline"> </i>
                            <span><b>{{event.local_name}}</b> - <i>{{event.location}}, {{event.county}}</i></span>
                        </p>
                        <p>
                            <i class="ion-ios-calendar-outline"> </i>
                            <span>{{event.event_start_date}}</span>
                        </p>

                        <div style="width:100%; height: 1px; background: #ccc; margin-bottom: 9px;"></div>

                        <p>
                            <i class="ion-android-done-all green" ng-if="event.joined_count > 0"> </i>
                            <span class="mr-10" ng-if="event.joined_count > 0">{{event.joined_count}}</span>

                            <i class="ion-bookmark green" ng-if="event.bookmark_count > 0"> </i>
                            <span class="mr-10" ng-if="event.bookmark_count > 0">{{event.bookmark_count}}</span>

                            <i class="ion-chatbox-working green" ng-if="event.comment_count > 0"> </i>
                            <span class="mr-10" ng-if="event.comment_count > 0">{{event.comment_count}}</span>

                            <i class="ion-image green" ng-if="event.image_count > 0"> </i>
                            <span class="mr-10" ng-if="event.image_count > 0">{{event.image_count}}</span>

                            <i class="ion-eye green" ng-if="event.visualization_count > 0"> </i>
                            <span class="mr-10" ng-if="event.visualization_count > 0">{{event.visualization_count}}</span>
                        </p>

                    </div>
                </div>

                <!--<div class="body container-padding" ng-repeat="event in ctrl.newEvents" data-ng-init="eventId=event.id;" 
                        data-ng-attr-id="eventId" data-ng-click="GoToDetails(eventId)">
                    <img ng-src="http://www.wheee.eu/upload/headers/{{event.header_image}}" />
                    <div class="title-container">
                        <h1>{{event.event_title}}</h1>
                    </div>
                </div>
                <div class="body container-padding" ng-repeat="event in newEvents" data-ng-init="eventId=event.id;" 
                        data-ng-attr-id="eventId" data-ng-click="GoToDetails(eventId)">
                    <img ng-src="http://www.wheee.eu/upload/headers/{{event.header_image}}" />
                    <div class="title-container">
                        <h1>{{event.event_title}}</h1>
                    </div>
                </div>-->
            </div>
        </div>
  </ion-content>
</ion-view>